#ifndef __DIALOGFUNCTIONS_H__
#define __DIALOGFUNCTIONS_H__

#include "BugSlayer.h"
#include "CallStack.h"

#include <string>
#include <list>

void FillStackList( HWND hwndCallStack, const CCallStackEntryList &aStack );

void AddListBoxItem( HWND hWnd, const char *pszString, const void *pItemData );
void AddCallStackItem( HWND hWnd, const SCallStackEntry *pEntry );

const void* GetListBoxItem( HWND hWnd, int nItemIndex );
const void* GetListBoxCurrentItem( HWND hWnd );
const SCallStackEntry* GetCallStackItem( HWND hWnd, int nItemIndex );
const SCallStackEntry* GetCurrentCallStackItem( HWND hWnd );

bool SetWindowText( HWND hwndDlg, const int nElementID, const char *pszString );
bool SetWindowText( HWND hwndDlg, const int nElementID, const int nValue );

void* SetWindowUserData( HWND hwndDlg, const int nElementID, void *pUserData );
void* GetWindowUserData( HWND hwndDlg, const int nElementID );
void* SetDlgUserData( HWND hwndDlg, void *pUserData );
void* GetDlgUserData( HWND hwndDlg );

int GetCheckButtonState( HWND hwndDlg, const int nElementID );

inline std::string GetFileName( std::string strFullPath )
{
	return strFullPath.substr( strFullPath.rfind( "\\" ) + 1 );
}

void WriteReportToFile( const char *pszFileName, const char *pszCondition, const char *pszDescription, 
												const CCallStackEntryList &entries );

#endif // __DIALOGFUNCTIONS_H__